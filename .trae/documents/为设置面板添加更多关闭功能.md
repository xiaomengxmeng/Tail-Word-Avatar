## 实现计划

### 1. 修改单词面板创建函数
- **文件**: `d:\TraePro\Tail\tail_word_avatar\tail_word_avatar.js`
- **位置**: `getOrCreateWordDisplayArea()` 函数 (第791行)
- **修改内容**:
  - 在标题栏中添加关闭按钮
  - 保存面板可见性状态到 localStorage
  - 加载时根据保存的状态决定是否显示面板

### 2. 添加面板可见性状态管理
- **添加新的状态变量**: `wordPanelVisible`，用于跟踪面板是否可见
- **保存状态**: 当面板关闭或打开时，将状态保存到 localStorage
- **加载状态**: 初始化时从 localStorage 加载状态

### 3. 实现关闭和显示功能
- **添加关闭函数**: `toggleWordPanel()` 用于切换面板显示/隐藏
- **添加油猴菜单命令**: 用于快速切换面板
- **在设置面板中添加开关**: 允许用户在设置中控制面板显示

### 4. 更新初始化逻辑
- **修改初始化函数**: 根据保存的状态决定是否创建面板
- **添加自动显示逻辑**: 如果面板设置为可见，在适当时候创建面板

### 5. 添加相关事件监听
- **关闭按钮事件**: 点击关闭按钮时隐藏面板
- **设置面板中的开关事件**: 切换开关时更新面板状态

## 预期效果
- 单词面板标题栏添加关闭按钮
- 支持通过关闭按钮、油猴菜单和设置面板控制面板显示/隐藏
- 面板可见性状态持久化保存
- 优化用户体验，避免不必要的面板显示
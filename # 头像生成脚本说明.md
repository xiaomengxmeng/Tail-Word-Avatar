# 头像生成脚本说明文档

## 脚本概述

![](https://fishpi.cn/gen?ver=0.1&scale=0.79&txt=%E7%88%B1%E8%80%8C%E4%B8%8D%E5%BE%97%20%2D%20%E6%AD%A2%E4%BA%8E%E5%94%87%E9%BD%BF%EF%BC%8C%E6%8E%A9%E4%BA%8E%E5%B2%81%E6%9C%88&url=https://file.fishpi.cn/2025/10/aj1-6b5eb828.gif&backcolor=F5DC78,C8B4FF,ffffff&shadow=0.8&anime=3&way=right&fontway=right&fontcolor=ffffff,F5DC78 "爱而不得 - 止于唇齿，掩于岁月")
![](https://fishpi.cn/gen?ver=0.1&scale=0.79&txt=%E7%88%B1%E8%80%8C%E4%B8%8D%E5%BE%97&url=https://file.fishpi.cn/2025/10/aj1-6b5eb828.gif&backcolor=F5DC78,C8B4FF,ffffff&shadow=0.8&anime=3&way=right&fontway=right&fontcolor=ffffff,F5DC78 "爱而不得")
![](https://fishpi.cn/gen?ver=0.1&scale=0.79&txt=%E5%9B%9B%E5%AD%A3%E6%9C%89%E4%BD%A0&url=https://file.fishpi.cn/2024/12/0009-4d0c6287.png&backcolor=4daffe&fontcolor=ffffff "四季有你")
![图片表情](https://fishpi.cn/gen?ver=0.1&scale=0.79&txt=Azi%F0%9F%92%9C%F0%9F%92%9C%F0%9F%92%9C&url=https://file.fishpi.cn/2025/07/%E7%B4%AB%E8%89%B2%E5%B0%8F%E4%BB%93%E9%BC%A0GIF%E8%A1%A8%E6%83%859%E7%88%B1%E7%BB%99%E7%BD%91aigeicom-2781678a.gif&backcolor=ffffff,E8D5FF&fontcolor=9933CC,ffffff)
![图片表情](https://fishpi.cn/gen?ver=0.1&scale=0.79&txt=%E7%93%A6%E8%BE%BE%E8%A5%BF%E7%93%A6%E6%B3%A1%E6%B3%A1%E8%8C%B6&url=https://file.fishpi.cn/2025/10/17605791587999f873c31-507bde29.gif&backcolor=E8F4FF,ffffff&fontcolor=3366CC,ffffff)

**头像生成脚本**是一个油猴脚本，专为鱼排聊天室(fishpi.cn)设计，提供了头像生成和快捷聊天功能。

## 主要功能

### 1. 头像生成功能

- 提供自定义文字头像生成按钮
- 支持自定义头像文字内容
- 支持配置背景图片、颜色和字体颜色

```js
var avatarGenButton = document.createElement('button');
            avatarGenButton.id = 'avatar-gen-button';
            avatarGenButton.textContent = 'Test';
            avatarGenButton.className = 'red';
            avatarGenButton.setAttribute('style', 'margin-right:5px');
            avatarGenButton.onclick = function() {
                const customText = prompt("请输入头像上显示的文字：", avatarConfig.defaultText);
                const textToUse = customText === null || customText.trim() === '' ? avatarConfig.defaultText : customText.trim();
                const encodedText = encodeURIComponent(textToUse);
                const avatarUrl = `https://fishpi.cn/gen?ver=0.1&scale=0.79&txt=${encodedText}&url=${avatarConfig.baseImageUrl}&backcolor=${avatarConfig.backgroundColor}&fontcolor=${avatarConfig.fontColor}`;
                sendMsgApi(`![图片表情](${avatarUrl})`);
            };
```

### 2. 快捷聊天按钮

- 提供6个快捷聊天按钮，分别为：
  - **打劫**：发送「冰冰 去打劫」消息
  - **鸽**：发送「鸽 行行好吧」消息
  - **红包**：发送「冰冰 来个红包」消息
  - **雷**：发送「雷公助我」消息
  - **火**：发送「火烧连营」消息
  - **Test**：打开头像生成对话框


## 配置说明

脚本中的配置项位于`avatarConfig`对象中，包含以下可自定义选项：
```javascript
const avatarConfig = {
// 默认头像文字
defaultText: '不想桀桀桀',
generateApiUrl: 'https://fishpi.cn/gen?ver=0.1&scale=0.79',
backgroundColor: 'ffffff,E8D5FF',
fontColor: '9933CC,ffffff',
baseImageUrl: 'https://file.fishpi.cn/2025/08/blob-3d1dec23.png'
};
```





- **defaultText**: 生成头像时的默认提示文字
- **generateApiUrl**: 头像生成API地址
- **backgroundColor**: 头像背景颜色（十六进制值，支持渐变色）
- **fontColor**: 头像文字颜色（十六进制值，支持渐变色）
- **baseImageUrl**: 头像背景图片URL

## 使用方法

1. 将脚本安装到Tampermonkey、Violentmonkey等油猴扩展
2. 访问鱼排聊天室网站（https://fishpi.cn/）
3. 在聊天输入框上方将自动显示6个红色按钮
4. 点击**Test**按钮可打开头像生成对话框，输入自定义文字
5. 点击其他按钮可快速发送对应消息

## 自定义指南

### 修改头像样式

如需修改头像默认样式，可直接编辑`avatarConfig`对象中的配置项：

*头像自定义效果示例*

#### 1. 修改文字和颜色

```javascript
// 示例：修改默认文字和颜色
avatarConfig.defaultText = '新的默认文字';
avatarConfig.fontColor = 'FF0000,0000FF'; // 红到蓝的渐变色
avatarConfig.backgroundColor = 'FFFFFF,FFFF00'; // 白到黄的渐变色
```

#### 2. 修改背景图片

要更换头像的背景图片，请修改`baseImageUrl`配置项：

```javascript
// 示例：修改背景图片
avatarConfig.baseImageUrl = 'https://example.com/your-custom-image.png';
```

您可以使用自己喜欢的图片作为头像背景：
获取鱼排头像URL的方法：

1. 访问鱼排网站并登录
2. 使用浏览器的开发者工具（F12）
3. 找到并复制您的头像图片URL
4. 将复制的URL粘贴到`baseImageUrl`配置项中

![鱼排头像获取-ec3293cd.png](https://file.fishpi.cn/2025/10/鱼排头像获取-ec3293cd.png)

### 添加新的快捷按钮

如需添加新的快捷按钮，可参考现有按钮创建代码：

```javascript
// 示例：添加新按钮
var newButton = document.createElement('button');
newButton.id = 'new-button';
newButton.textContent = '新按钮';
newButton.className = 'red';
newButton.setAttribute('style', 'margin-right:5px');
newButton.onclick = function() {
    sendMsgApi('新按钮发送的消息');
};

// 添加到图层，避免重复添加
if (!document.getElementById('new-button')) elve.appendChild(newButton);
```

## 注意事项

- 脚本仅在鱼排聊天室(fishpi.cn)网站生效
- 脚本在打赏区



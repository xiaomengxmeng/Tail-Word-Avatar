# Tail Word Avatar

一个集成了单词面板显示、头像生成和聊天小尾巴功能的工具，特别适合考研英语单词学习。

## 功能特点

- **单词面板显示** - 在聊天界面左侧显示考研单词，支持拖拽和调整大小
- **头像生成功能** - 根据输入的单词或文字生成自定义头像
- **头像自定义** - 支持自定义头像文字、背景图片、颜色和样式
- **聊天小尾巴** - 自动在发送的消息后添加可爱的小尾巴
- **小尾巴开关** - 可随时开启或关闭小尾巴功能
- **更换小尾巴** - 支持选择预设小尾巴或自定义小尾巴内容
- **隐藏机器人元素** - 自动隐藏聊天界面中的机器人元素，优化视觉体验

## 文件结构

- `tail_word_avatar.js` - 主程序文件，包含所有核心功能实现
- `parse_words_csv.js` - 单词 CSV 解析工具，用于处理考研单词数据
- `parsed_words.js` - 解析后的单词数据文件
- `2024墨墨考研深度记忆宝典 全部单词.csv` - 考研单词原始数据

## 使用方法

1. 将 `tail_word_avatar.js` 脚本安装到 Tampermonkey/Violentmonkey 等油猴扩展
2. 刷新聊天页面，左侧将出现单词学习面板
3. 使用油猴菜单可设置小尾巴功能和其他选项
4. 点击头像生成按钮创建自定义头像

## 菜单命令说明

- **小尾巴开关** - 切换小尾巴功能的开启和关闭状态
- **更换小尾巴** - 选择预设小尾巴或设置自定义小尾巴内容
- **设置左侧单词数量** - 调整单词面板显示的单词数量

## 感谢

感谢以下项目和个人对本项目的帮助：

1. **脚本原作者** - 感谢江户川-哀酱(APTX-4869)的脚本
2. **墨墨背单词词库** - 感谢 [https://github.com/busiyiworld/maimemo-export](https://github.com/busiyiworld/maimemo-export) 提供的词库资源

## 开发说明

该项目使用 JavaScript 开发，基于油猴脚本框架，支持在各种聊天平台上使用。项目结合了单词学习和聊天增强功能，旨在帮助用户在日常聊天中学习考研英语单词。

## 词库更换指南

您可以按照以下步骤更换为自定义词库：

1. **准备CSV词库文件**：创建或获取包含单词数据的CSV文件，确保格式与原词库相似（通常包含单词、释义等信息）
2. **修改文件路径**：编辑`parse_words_csv.js`文件，找到第6行附近的CSV文件路径定义，将`2024墨墨考研深度记忆宝典 全部单词.csv`修改为您的新CSV文件名
   ```javascript
   // 修改前
   const csvPath = path.join(__dirname, '2024墨墨考研深度记忆宝典 全部单词.csv');
   // 修改后
   const csvPath = path.join(__dirname, '您的新词库文件名.csv');
   ```
3. **重新解析词库**：运行`parse_words_csv.js`脚本来处理新的词库数据
   ```bash
   node parse_words_csv.js
   ```
4. **更换词库**：修改并替换掉 `const postgraduateWords1` 数组内容
5. **更新脚本**：确保`parsed_words.js`文件已被正确更新
6. **刷新页面**：重新加载聊天页面，新的单词将在左侧面板中显示

## 头像和颜色自定义指南

本工具支持丰富的头像自定义选项，您可以按照以下方法修改头像样式：

![头像示例](img/avatar_example.svg)

*头像自定义效果示例*

### 配置选项说明

在`tail_word_avatar.js`文件中，第39行附近有一个`avatarConfig`对象，包含以下可配置项：

- **defaultText**: 默认头像文字，生成头像时的默认提示文本
- **baseImageUrl**: 基础背景图片URL，头像的背景图像
- **generateApiUrl**: 头像生成API地址
- **scale**: 图片缩放比例，控制头像清晰度
- **backgroundColor**: 背景颜色（十六进制值）
- **fontColor**: 字体颜色（十六进制值）

### 修改方法

1. **打开脚本文件**：在油猴扩展中编辑`tail_word_avatar.js`脚本
2. **找到配置部分**：定位到`// 头像生成配置 - 用户可自定义`注释下方的`avatarConfig`对象
3. **修改配置值**：根据需要调整各配置项的值
   - 修改文字颜色示例：将`fontColor: '1A365D'`改为`fontColor: 'FF5733'`
   - 修改背景颜色示例：将`backgroundColor: 'D3D3D3'`改为`backgroundColor: 'C0E8FF'`
   - 修改默认文字示例：将`defaultText: '不想桀桀桀'`改为`defaultText: '新的默认文字'`
4. **保存修改**：保存脚本更改
5. **刷新页面**：重新加载聊天页面使配置生效

### 自定义背景图片

您可以使用自己喜欢的图片作为头像背景：

1. 将您的图片上传到支持外链的图床服务
2. 获取图片的公开URL
3. 修改`baseImageUrl`配置项为您的图片URL

### 颜色值参考

常用颜色十六进制值：
- 红色: FF0000
- 蓝色: 0000FF
- 绿色: 00FF00
- 黄色: FFFF00
- 紫色: 800080
- 橙色: FFA500
- 灰色: 808080
- 黑色: 000000
- 白色: FFFFFF

## 注意事项

本工具仅用于学习和个人使用，词库版权归原作者所有。使用时请遵守相关平台的使用规范。

词库更换时请确保CSV文件格式正确，否则可能导致解析失败。

自定义头像配置时，请确保使用有效的十六进制颜色值（不含#号），避免使用过大的图片作为背景图以确保加载速度。